{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"LoginAndRegisterComponent\",\n  methods: {\n    async login() {\n      let result;\n\n      try {\n        let _username = document.getElementById(\"username\").value;\n        let _password = document.getElementById(\"password\").value;\n\n        if (_username === \"\" || _password === \"\") {\n          alert(\"Username and password cannot be blank\");\n          return;\n        }\n\n        result = await axios.post(\"/api/users/login\", {\n          username: _username,\n          password: _password\n        });\n        this.$root.$data.isLoggedIn = true;\n        this.$root.$data.currentUser = _username;\n        this.$root.$data.currentFavorites = result.data.favorites;\n        document.getElementById(\"username\").value = \"\";\n        document.getElementById(\"password\").value = \"\";\n      } catch (e) {\n        console.log(e);\n        alert(\"An error happened. Please check your credentials and/or try again later!\");\n      }\n    },\n\n    async register() {\n      try {\n        let newUsername = document.getElementById(\"username\").value;\n        let newPassword = document.getElementById(\"password\").value;\n\n        if (newUsername === \"\" || newPassword === \"\") {\n          alert(\"Username and password cannot be blank\");\n          return;\n        }\n\n        await axios.post(\"/api/users/register\", {\n          username: newUsername,\n          password: newPassword\n        });\n        alert(\"New user successfully registered\");\n      } catch (e) {\n        console.log(e);\n        alert(\"An error happened. Please check your credentials and/or try again later!\");\n      }\n    },\n\n    logout() {\n      this.$root.$data.currentUser = \"\";\n      this.$root.$data.currentFavorites = [];\n      this.$root.$data.currentDate = \"\";\n      this.$root.$data.isLoggedIn = false;\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACAA,mCADA;AAEAC;AACA;AACA;;AACA;AACA;AACA;;AAEA;AACAC;AACA;AACA;;AAEAC;AACAC,6BADA;AAEAC;AAFA;AAKA;AACA;AACA;AAEAC;AACAA;AACA,OApBA,CAoBA;AACAC;AACAL,cACA,0EADA;AAGA;AACA,KA7BA;;AA8BA;AACA;AACA;AACA;;AAEA;AACAA;AACA;AACA;;AAEA;AACAE,+BADA;AAEAC;AAFA;AAKAH;AACA,OAfA,CAeA;AACAK;AACAL,cACA,0EADA;AAGA;AACA,KApDA;;AAqDAM;AACA;AACA;AACA;AACA;AACA;;AA1DA;AAFA","names":["name","methods","alert","result","username","password","document","console","logout"],"sourceRoot":"src/components","sources":["LoginAndRegisterComponent.vue"],"sourcesContent":["<template>\n  <div id=\"login-page\">\n    <div id=\"input\" v-if=\"!this.$root.$data.isLoggedIn\">\n      <div id=\"username-wrapper\">\n        <input type=\"text\" id=\"username\" placeholder=\"Username\" />\n      </div>\n      <div></div>\n      <div id=\"password-wrapper\">\n        <input type=\"password\" id=\"password\" placeholder=\"Password\" />\n      </div>\n      <button id=\"login-button\" @click=\"login\">Login</button>\n      <button id=\"register-button\" @click=\"register\">Register</button>\n    </div>\n    <div v-if=\"this.$root.$data.isLoggedIn\">\n      You are logged in. Enjoy browsing\n      <div>\n        <button id=\"logout-button\" @click=\"logout\">Logout</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"LoginAndRegisterComponent\",\n  methods: {\n    async login() {\n      let result;\n      try {\n        let _username = document.getElementById(\"username\").value;\n        let _password = document.getElementById(\"password\").value;\n\n        if (_username === \"\" || _password === \"\") {\n          alert(\"Username and password cannot be blank\");\n          return;\n        }\n\n        result = await axios.post(\"/api/users/login\", {\n          username: _username,\n          password: _password,\n        });\n\n        this.$root.$data.isLoggedIn = true;\n        this.$root.$data.currentUser = _username;\n        this.$root.$data.currentFavorites = result.data.favorites;\n\n        document.getElementById(\"username\").value = \"\";\n        document.getElementById(\"password\").value = \"\";\n      } catch (e) {\n        console.log(e);\n        alert(\n          \"An error happened. Please check your credentials and/or try again later!\"\n        );\n      }\n    },\n    async register() {\n      try {\n        let newUsername = document.getElementById(\"username\").value;\n        let newPassword = document.getElementById(\"password\").value;\n\n        if (newUsername === \"\" || newPassword === \"\") {\n          alert(\"Username and password cannot be blank\");\n          return;\n        }\n\n        await axios.post(\"/api/users/register\", {\n          username: newUsername,\n          password: newPassword,\n        });\n\n        alert(\"New user successfully registered\");\n      } catch (e) {\n        console.log(e);\n        alert(\n          \"An error happened. Please check your credentials and/or try again later!\"\n        );\n      }\n    },\n    logout() {\n      this.$root.$data.currentUser = \"\";\n      this.$root.$data.currentFavorites = [];\n      this.$root.$data.currentDate = \"\";\n      this.$root.$data.isLoggedIn = false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#login-page {\n  margin-top: 125px;\n}\n#username-wrapper,\n#password-wrapper {\n  margin-bottom: 20px;\n}\n\n#username,\n#password {\n  border: 2px solid gray;\n}\n\n#login-button,\n#register-button {\n  margin: 0 10px;\n}\n\n#logout-button {\n  margin: 20px 10px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}